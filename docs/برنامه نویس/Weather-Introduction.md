#  کامپوننت نمایش اطلاعات هواشناسی

این داکیومنت به معرفی کامپوننت جدید نمایش اطلاعات هواشناسی می‌پردازد که به صورت یک پنل هوشمند در سایدبار و یک Tooltip شیشه‌ای (Glassmorphism) روی نقشه پیاده‌سازی شده است. هدف اصلی این کامپوننت، ارائه داده‌های کلیدی هواشناسی به کاربر به شکلی زیبا، مدرن و غیرمزاحم است.



---

## ✨ ویژگی‌های کلیدی

### ۱. طراحی دو حالته: پنل کامل و آیکون مینیمال
کامپوننت `WeatherSidebarPanel` به صورت هوشمند با وضعیت سایدبار (باز یا بسته) هماهنگ می‌شود:
- **حالت باز (Expanded):** زمانی که سایدبار باز است، یک پنل کامل با جزئیات کلیدی هواشناسی نمایش داده می‌شود. این پنل شامل موارد زیر است:
  - دمای بیشینه و کمینه (Tmax/Tmin)
  - رطوبت نسبی (RH)
  - سرعت باد (Wind Speed)
  - تبخیر و تعرق (ETo)
- **حالت بسته (Collapsed):** هنگامی که سایدبار جمع می‌شود، پنل به یک آیکون ابر مینیمال تبدیل می‌شود تا فضای کاربری اشغال نشود.

### ۲. Tooltip شیشه‌ای (Glassmorphism)
در حالت بسته، با بردن ماوس روی آیکون ابر، یک Tooltip زیبا با افکت شیشه‌ای نمایش داده می‌شود.
- **طراحی مدرن:** استفاده از افکت `backdrop-filter: blur()` یک ظاهر شیشه‌ای و نیمه‌شفاف ایجاد می‌کند که محتوای زیرین (نقشه) به صورت محو دیده می‌شود.
- **نمایش آنی اطلاعات:** کاربر بدون نیاز به باز کردن سایدبار، به سرعت به داده‌های هواشناسی دسترسی پیدا می‌کند.
- **موقعیت‌یابی هوشمند:** Tooltip به صورت خودکار در کنار آیکون ظاهر می‌شود (مثلاً سمت چپ) تا با سایر عناصر تداخل نداشته باشد.



### ۳. یکپارچگی کامل با اکوسیستم Radzen Blazor
- **هماهنگی با تم:** رنگ‌ها، فونت‌ها و ابعاد کامپوننت با استفاده از متغیرهای CSS رادزن (`var(--rz-...)`) تعریف شده‌اند. این یعنی با تغییر تم کلی برنامه (مثلاً از Material به Dark)، ظاهر این کامپوننت نیز به صورت خودکار به‌روز می‌شود.
- **استفاده بهینه از `TooltipService`:** محتوای Tooltip با استفاده از یک `RenderFragment` به صورت دینامیک به `TooltipService` تزریق می‌شود. این روش، عملکرد بهتری دارد و از رندر غیرضروری جلوگیری می‌کند.

### ۴. معماری ماژولار و قابل توسعه
کامپوننت به سه بخش اصلی تقسیم شده است که مدیریت و توسعه آن را آسان می‌کند:
1.  `WeatherSidebarPanel.razor`: منطق اصلی و نمایش دو حالت باز/بسته.
2.  `WeatherTooltipContent.razor`: ساختار محتوای داخل Tooltip.
3.  `WeatherTooltipRow.razor`: هر ردیف از اطلاعات (آیکون، لیبل، مقدار) به عنوان یک کامپوننت مجزا.

این معماری به ما اجازه می‌دهد در آینده به راحتی داده‌های جدیدی (مانند پیش‌بینی چند روز آینده) را به آن اضافه کنیم.

### ۵. مدیریت وضعیت داده (Loading & Availability)
- **نمایش وضعیت بارگذاری:** در صورتی که داده‌های هواشناسی در حال دریافت از API باشند، یک `ProgressBar` به کاربر نمایش داده می‌شود.
- **بررسی در دسترس بودن داده:** کامپوننت تنها زمانی اطلاعات را نمایش می‌دهد که داده‌ها با موفقیت دریافت شده باشند (`IsDataAvailable`).

این کامپوننت نه تنها یک ابزار کاربردی برای نمایش اطلاعات است، بلکه به عنوان یک عنصر بصری جذاب، تجربه کاربری پروژه را ارتقا می‌دهد.
